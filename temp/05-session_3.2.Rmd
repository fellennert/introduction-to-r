---
title: "Session 3.2 -- Tidy data"
author: "Felix Lennert"
date: "knit on `r lubridate::today()`"
output: html_document
csl: ASA.csl
bibliography: applied-quantitative-methods.bib
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Tidy data

Before you learn how to tidy and wrangle data, you need to know how you want your dataset to actually look like, i.e., what the desired outcome of the entire process of tidying your dataset is. The `tidyverse` is a collection of packages which share an underlying philosophy: they are tidy. This means, that they (preferably) take tidy data as inputs and output tidy data. In the following, I will, first, introduce you to the concept of tidy data as developed by Hadley Wickham [@wickham2014]. Second, `tidyr` is introduced [@wickham2020b]. Its goal is to provide you with functions that facilitate tidying datasets. Beyond, I will provide you some examples of how to create tibbles using functions from the `tibble` package [@muller2020]. Moreover, the pipe from the `magrittr` package is introduced.

Please note that tidying and cleaning data are not equivalent: I refer to tidying data as to bringing data in a tidy format. Cleaning data, however, can encompass way more than this: parsing columns in the right format (using `readr`, for instance), imputation of missing values, address the problem of typos, etc. 

## The concept 

Datasets can be structured in many ways. To make them tidy, they must be organized in the following way (this is taken from the R for Data Science book [@wickham2016a]):

1. Each variable must have its own column.   
2. Each observation must have its own row.     
3. Each value must have its own cell.

They can even be boiled further down:

1. Put each dataset in a tibble.
2. Put each variable in a column.

This can also be visually depicted:

![The three rules that make a dataset tidy (taken from Wickham and Grolemund 2016: 149)](figures/tidy_data.png)

This way of storing data has two big advantages:  

* you can easily access, and hence manipulate, variables as vectors  
* if you perform vectorized operations on the tibble, cases are preserved.

## References